(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[599],{7283:function(t,e,n){"use strict";n.r(e),n.d(e,{__N_SSG:function(){return S},default:function(){return Z}});var s,i,r,a,o=n(5893),u=n(7294),h=n(6983),c=n(4530),l=n(2918),d=n(809),p=n.n(d),f=n(266),v=n(8216),g=n(5997),y=n(2809),m=n(5503),w=n(3887),b=n(1369),k=n(4642),x=function(){function t(){(0,v.Z)(this,t),(0,y.Z)(this,"app",void 0),(0,y.Z)(this,"analytics",void 0),(0,y.Z)(this,"auth",void 0),(0,y.Z)(this,"user",void 0),(0,y.Z)(this,"db",void 0);var e=JSON.parse('{"apiKey": "AIzaSyAAWh7z1AYB_9Jk-d9kaLoVjRdoNv5kMO8", "authDomain": "inoagent77.firebaseapp.com", "databaseURL": "https://inoagent77-default-rtdb.europe-west1.firebasedatabase.app", "projectId": "inoagent77", "storageBucket": "inoagent77.appspot.com", "messagingSenderId": "724707688008", "appId": "1:724707688008:web:4ffde81c382696a4a3627d", "measurementId": "G-G09HM3VXP9"}');console.log({firebaseConfig:e}),this.app=(0,m.ZF)(e);try{this.analytics=(0,w.IH)(this.app)}catch(n){console.error("Can't initialize analytics")}this.auth=(0,b.v0)(),this.db=(0,k.N8)()}return(0,g.Z)(t,[{key:"signInAnonymously",value:function(){var t=(0,f.Z)(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,b.XB)(this.auth);case 3:return t.abrupt("return",{error:null,result:"Auth completed"});case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",{error:t.t0.message,result:null});case 9:case"end":return t.stop()}}),t,this,[[0,6]])})));return function(){return t.apply(this,arguments)}}()},{key:"listenUserCount",value:function(){var t=(0,f.Z)(p().mark((function t(e){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("listenUserCount init"),n=(0,k.iH)(this.db,"settings/usersCount"),t.abrupt("return",(0,k.jM)(n,(function(t){var n=t.val();console.log("listenUserCount",n),e(n)})));case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"userLoading",get:function(){return void 0===this.user}},{key:"userAuthenticated",get:function(){var t;return!(null===(t=this.user)||void 0===t||!t.uid)}}]),t}(),C=(0,h.fZ)({projects:[{id:"4PQukbmiw8zq1T3nKUQ5EL",token:"VC6zDaiKfAjTgJyJKuPKciKvTzLQHovfHU9MmaJ6mRfgbEkT39tOs8w0K26qisOD3IAMI2pH8ajlkIj93Q5A"}]}),A=new x;function _(){this.x,this.y,this.s,this.width,this.height,this.drops=[],this.splashes=[]}function j(){requestAnimationFrame(j),a.render()}function E(t){var e;e=t,(s=document.getElementById(e).getContext("2d")).canvas.width=960,s.canvas.height=540,i=s.canvas.width,r=s.canvas.height,a=new _,j()}_.prototype.addDrop=function(){this.x=Math.random()*(i+100)-100,this.y=0,this.s=12*Math.random()+2,this.drops.push({x:this.x,y:this.y,velY:2,width:this.s/7,height:1*this.s,speed:this.s/1.2,life:60})},_.prototype.render=function(){for(var t=0;t<4;t++)this.addDrop();s.save(),s.clearRect(0,0,i,r),s.fillStyle="rgba(255, 255, 255, 1)";for(t=0;t<this.drops.length;t++){var e=this.drops[t];s.fillRect(e.x,e.y,e.width,e.height),e.y+=2*e.speed,e.x+=2,e.y+e.height>r&&(this.splashes.push(e),this.drops.splice(t,1))}for(t=0;t<this.splashes.length;t++){var n=this.splashes[t];s.fillRect(n.x,n.y,n.width/3,n.height/3),n.y-=n.velY*n.speed/6,n.life--,n.velY-=.1,n.x+=.15*n.speed,n.life<=0&&this.splashes.splice(t,1)}s.restore()};var I=function(t){var e=t.children;return(0,u.useEffect)((function(){E("particleCanvas")}),[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("canvas",{id:"particleCanvas",style:{position:"fixed",width:"100vw",height:"100vh",margin:"auto",left:0,right:0,top:0,bottom:0,background:"#CE3375"},children:" "}),e]})},S=!0;function Z(t){var e=t.plasmicData,n=(0,u.useState)(!0),s=n[0],i=n[1],r=(0,u.useState)(!1),a=r[0],d=r[1],p=(0,u.useState)(null),f=p[0],v=p[1],g=function(t){var e=(0,u.useState)(void 0),n=e[0],s=e[1];return(0,u.useEffect)((function(){return(0,b.Aj)(t.auth,(function(e){console.log("onAuthStateChanged",{user:e}),e?(t.user=e,s(e)):(t.user=null,s(null))}))}),[]),n}(A);return(0,u.useEffect)((function(){i(A.userLoading),d(A.userAuthenticated),console.log("firebaseService.userLoading",{loading:A.userLoading,authenticated:A.userAuthenticated})}),[g]),(0,u.useEffect)((function(){return A.listenUserCount((function(t){v(t)}))}),[]),e&&0!==e.entryCompMetas.length?(0,o.jsx)(I,{children:(0,o.jsx)(c.UF,{loader:C,prefetchedData:e,children:(0,o.jsx)(h.i9,{component:"Homepage",componentProps:{usersCount:null==f?"...":f,root:{props:{style:{background:"transparent"}}},enterArea:{props:{onClick:function(){A.signInAnonymously()},authorized:a,loading:s}}}})})}):(0,o.jsx)(l.default,{statusCode:404})}},8836:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[[...plasmicLoaderPage]]",function(){return n(7283)}])}},function(t){t.O(0,[774,627,327,868,888,179],(function(){return e=8836,t(t.s=e);var e}));var e=t.O();_N_E=e}]);